(module main
  [main])

(import macro-expander
  load-packages)

(intrinsics:defn main (args)
  (if (not (= (length args) 2))
    (panic "usage: oftb-macro-expander package-dir binary-name"))
  (def package-dir (nth 0 args))
  (def binary-name (nth 1 args))

  (def package (load-packages package-dir))
  package)
